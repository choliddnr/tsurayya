---
import Layout from '../../layouts/Layout.astro';
import PageHero from '../../components/PageHero.astro';
import { getCollection } from 'astro:content';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

export function getStaticPaths() {
  return [{ params: { locale: 'en' } }, { params: { locale: 'id' } }];
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const technologies = await getCollection('technologies', ({ data }) => data.lang === lang);
---

<Layout

  title={t('page.technologies.title')}

  description={t('page.technologies.description')}

>

  <PageHero

    title={t('page.technologies.hero.title')}

    description={t('page.technologies.hero.description')}

  />

  <section id="technologies" class="pb-20 bg-dark/50 backdrop-blur-sm">

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

      <div class="mt-16 grid gap-8 md:grid-cols-2 lg:grid-cols-3">

        {

          technologies.map((tech) => (

            <div class="bg-dark/50 backdrop-blur-sm rounded-xl p-8 border border-white/10 hover:border-accent/30 transition-all duration-300">

              <div class="flex items-center mb-4">

                <i class={`${tech.data.icon} text-5xl text-accent mr-4`} />

                <h3 class="text-2xl font-bold text-white">{tech.data.title}</h3>

              </div>

              <p class="text-white/70 mb-4">{tech.data.description}</p>



              <h4 class="text-lg font-semibold text-white mb-2">

                {t('page.technologies.content.pros')}

              </h4>

              <ul class="list-disc list-inside text-white/70 mb-4">

                {tech.data.pros.map((pro) => (

                  <li>{pro}</li>

                ))}

              </ul>



              <h4 class="text-lg font-semibold text-white mb-2">

                {t('page.technologies.content.cons')}

              </h4>

              <ul class="list-disc list-inside text-white/70 mb-4">

                {tech.data.cons.map((con) => (

                  <li>{con}</li>

                ))}

              </ul>



              <h4 class="text-lg font-semibold text-white mb-2">

                {t('page.technologies.content.useCases')}

              </h4>

              <ul class="list-disc list-inside text-white/70">

                {tech.data.useCases.map((useCase) => (

                  <li>{useCase}</li>

                ))}

              </ul>

            </div>

          ))

        }

      </div>

    </div>

  </section>

</Layout>
