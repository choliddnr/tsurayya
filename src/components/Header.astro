---
import NavDropdown from "./NavDropdown.astro";

const solutionsContent = [
  {
    title: "Custom Software Development",
    href: "#solutions",
    description: "Building scalable and robust software solutions.",
  },
  {
    title: "QA and Testing",
    href: "#solutions",
    description: "Ensuring your software is reliable and performs flawlessly.",
  },
  {
    title: "AI and Data Science",
    href: "#solutions",
    description: "Leveraging AI and data to unlock new opportunities.",
  },
  {
    title: "Mobile App Development",
    href: "#solutions",
    description: "Creating engaging and high-performing mobile applications.",
  },
  {
    title: "UX/UI Design",
    href: "#solutions",
    description: "Designing intuitive and beautiful user experiences.",
  },
  {
    title: "Platform and Infrastructure",
    href: "#solutions",
    description:
      "Building and managing scalable and secure cloud infrastructure.",
  },
];

const technologiesContent = [
  {
    title: ".NET",
    href: "#technologies",
    description: "Microsoft's comprehensive development platform.",
  },
  {
    title: "AI",
    href: "#technologies",
    description: "Artificial Intelligence and Machine Learning solutions.",
  },
  {
    title: "Angular",
    href: "#technologies",
    description: "Google's framework for building web applications.",
  },
  {
    title: "AWS",
    href: "#technologies",
    description: "Amazon Web Services cloud computing services.",
  },
  {
    title: "C#",
    href: "#technologies",
    description: "A modern, object-oriented programming language.",
  },
  {
    title: "Java",
    href: "#technologies",
    description:
      "A widely used, class-based, object-oriented programming language.",
  },
  {
    title: "JavaScript",
    href: "#technologies",
    description: "The programming language for the Web.",
  },
  {
    title: "Node.js",
    href: "#technologies",
    description: "A JavaScript runtime built on Chrome's V8 JavaScript engine.",
  },
  {
    title: "Python",
    href: "#technologies",
    description: "A high-level, interpreted programming language.",
  },
  {
    title: "React",
    href: "#technologies",
    description: "A JavaScript library for building user interfaces.",
  },
  {
    title: "Ruby",
    href: "#technologies",
    description:
      "A dynamic, open source programming language with a focus on simplicity and productivity.",
  },
  {
    title: "Vue.js",
    href: "#technologies",
    description: "A progressive framework for building user interfaces.",
  },
];

const industriesContent = [
  {
    title: "Fintech",
    href: "#industries",
    description:
      "Innovating financial services with secure and scalable solutions.",
  },
  {
    title: "Healthcare",
    href: "#industries",
    description:
      "Developing robust and compliant software for the healthcare sector.",
  },
  {
    title: "E-commerce",
    href: "#industries",
    description: "Building engaging and high-performing e-commerce platforms.",
  },
];
---

<header
  id="main-header"
  class="bg-[var(--color-background)] sticky top-0 z-50 transition-shadow duration-300"
>
  <nav
    class="container mx-auto px-6 py-4 flex justify-between items-center bg-dark"
  >
    <div class="text-2xl font-bold text-[var(--color-primary)]">Tsurayya</div>
    <div class="flex space-x-4 items-center">
      <NavDropdown title="Solutions" content={solutionsContent} />
      <NavDropdown title="Technologies" content={technologiesContent} />
      <NavDropdown title="Industries" content={industriesContent} />
      <a href="#about" class="text-white hover:text-[var(--color-primary)]"
        >About</a
      >
      <a href="#our-work" class="text-white hover:text-[var(--color-primary)]"
        >Our Work</a
      >
      <a href="#blog" class="text-white hover:text-[var(--color-primary)]"
        >Blog</a
      >
      <a
        href="#"
        class="bg-[var(--color-accent)] text-white px-4 py-2 rounded-full hover:opacity-90"
        >Schedule a Call</a
      >
    </div>
  </nav>
</header>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");
    let lastScrollTop = 0;
    const scrollThreshold = 50;

    // Show header initially
    header.classList.remove("-translate-y-full");

    window.addEventListener("scroll", () => {
      let currentScroll =
        window.pageYOffset || document.documentElement.scrollTop;

      if (currentScroll > lastScrollTop && currentScroll > scrollThreshold) {
        // Scrolling down past threshold
        header.classList.add("-translate-y-full");
        header.classList.remove("shadow-on-scroll");
      } else if (
        currentScroll < lastScrollTop &&
        currentScroll > scrollThreshold
      ) {
        // Scrolling up past threshold
        header.classList.remove("-translate-y-full");
        header.classList.add("shadow-on-scroll");
      } else if (currentScroll <= scrollThreshold) {
        // At or near the top
        header.classList.remove("-translate-y-full");
        header.classList.remove("shadow-on-scroll");
      }
      lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // For Mobile or negative scrolling
    });
  });
</script>
