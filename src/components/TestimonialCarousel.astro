---
interface Testimonial {
  quote: string;
  author: string;
  title: string;
}

interface Props {
  testimonials: Testimonial[];
}

const { testimonials } = Astro.props;
---

<div
  id="testimonial"
  class="splide"
  role="group"
  aria-label="Testimonial Carousel"
>
  <div class="splide__track">
    <ul class="splide__list">
      {
        testimonials.map((testimonial) => (
          <li class="splide__slide">
            <div class="bg-[var(--color-background)] p-8 rounded-lg shadow-md border border-gray-200 text-center">
              <p class="text-xl italic text-[var(--color-text)] mb-4">
                "{testimonial.quote}"
              </p>
              <p class="text-base font-bold text-[var(--color-text)] opacity-90">
                - {testimonial.author}, {testimonial.title}
              </p>
            </div>
          </li>
        ))
      }
    </ul>
  </div>
</div>

<script>
  import { Splide } from "@splidejs/splide";
  import "@splidejs/splide/css";

  document.addEventListener("DOMContentLoaded", function () {
    new Splide("#testimonial", {
      type: "loop",
      perPage: 1,
      autoplay: true,
      interval: 5000,
      pauseOnHover: true,
    }).mount();
  });
</script>
